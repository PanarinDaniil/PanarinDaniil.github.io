import{F as h,La as C,S as y,eb as l,f as u,fb as b,hb as f,ib as P,k as n,o as c,r as s}from"./chunk-Q26CTKHJ.js";var m="EUConfirmationState";var p="fxch-modal-opened";var S=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],k=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],g=[...S,...k],x=[new l({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),new l({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new l({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new l({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];var v=(()=>{let r=class r{constructor(t,e,o,a){this.injector=t,this.zone=e,this.overlay=o,this.dialog=a,this.body=document.querySelector("body")}openDialog(t,e,o){return this.createDialog({componentOrTemplate:t,hasBackdrop:o?.hasBackdrop,backdropClass:o?.backdropClasses?o?.backdropClasses:["cdk-overlay-dark-backdrop"],panelClass:o?.replacePanelClassBy?o?.replacePanelClassBy:"fxch-dialog",customClass:o?.customClass,data:e})}openPopup(t,e,o,a){let d=this.createDialog({componentOrTemplate:t,hasBackdrop:a?.hasBackdrop,backdropClass:a?.backdropClasses?a?.backdropClasses:["cdk-overlay-transparent-backdrop"],panelClass:a?.replacePanelClassBy?a?.replacePanelClassBy:"fxch-dropdown",customClass:a?.customClass,data:o});return this.updatePositionStrategy(d,e,a?.positions),setTimeout(()=>this.updatePositionStrategy(d,e,a?.positions)),d}updatePositionStrategy(t,e,o){t.overlayRef.updatePositionStrategy(this.overlay.position().flexibleConnectedTo(e).withPositions(o??g).withPush(!0))}createDialog(t){return this.zone.run(()=>{this.body?.classList.contains(p)||this.body?.classList.add(p);let e=t.customClass==null?[t.panelClass]:typeof t.customClass=="string"?[t.panelClass,t.customClass]:[t.panelClass,...t.customClass],o=[...t.backdropClass],a=this.dialog.open(t.componentOrTemplate,{hasBackdrop:t.hasBackdrop!=null?t.hasBackdrop:!0,backdropClass:o,panelClass:e,autoFocus:!1,data:t.data});return a.closed.pipe(n(1)).subscribe(()=>{this.dialog.openDialogs.length===0&&this.body?.classList.remove(p)}),a})}};r.\u0275fac=function(e){return new(e||r)(s(h),s(y),s(b),s(f))},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();var A=(()=>{let r=class r{constructor(t,e){this.fxchPopupService=t,this.httpClient=e;let o=JSON.parse(sessionStorage.getItem(m))??!1;this.isEUConfirmedSubject=new u(o)}tryOpen(){return new Promise(t=>{if(this.isEUConfirmedSubject.value)return;let e=P.apiUrl+"/is-eu-user";this.httpClient.get(e).pipe(n(1)).subscribe({complete:()=>this.open().then(o=>o.closed.pipe(n(1)).subscribe(()=>t())),error:()=>this.open().then(o=>o.closed.pipe(n(1)).subscribe(()=>t()))})})}isEUConfirmed(){return this.isEUConfirmedSubject.value}saveConfirmation(t){sessionStorage.setItem(m,JSON.stringify(t)),this.isEUConfirmedSubject.next(t)}open(){return import("./chunk-JUEAXD5O.js").then(({DisclaimerModalComponent:t})=>this.fxchPopupService.openDialog(t,null,{backdropClasses:["cdk-overlay-dark-backdrop","fxch-disclaimer-dialog-backdrop"],customClass:"fxch-disclaimer-dialog"}))}};r.\u0275fac=function(e){return new(e||r)(s(v),s(C))},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{v as a,A as b};
