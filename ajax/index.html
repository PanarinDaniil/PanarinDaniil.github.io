<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <style type="text/css">
    body{
      margin:0;
      padding:0;
    }
    #list{
      list-style:none;
      padding:0;
      margin:0;
    }
    #list > li{
      margin-bottom:15px;
      padding:5px 0;
    }
    #list > li:nth-child(even){
      background:#eee;
    }
    .inner-list{
      list-style:disc;
    }
    .inner-list img{
      display:block;
      max-width:200px;
    }

  </style>
</head>
<body>
  <button onclick="loadPhones()" id="button">Загрузить phones.json!</button>
  <ul id="list"></ul>

  <script>
    function loadPhones() {
      var button = document.getElementById('button');
      var xhr = new XMLHttpRequest();

      xhr.open('GET', 'phones.json');
      xhr.send();
      xhr.onreadystatechange = function() {
        if (xhr.readyState != 4) return;

        button.parentNode.removeChild(button);
        // button.innerHTML = 'Готово!';
        if (xhr.status != 200) {
          // обработать ошибку
          console.log('Ошибка ' + xhr.status + ': ' + xhr.statusText);
        } else {
          // вывести результат
          try {
            var phones = JSON.parse(xhr.responseText);
          } catch (e) {
            console.log( "Некорректный ответ " + e.message );
          }
          showPhones(phones);
        }
      }
      button.innerHTML = 'Загружаю...';
      button.disabled = true;
    }

    function showPhones(phones) {
      var list = document.getElementById('list');
      // phones.forEach( function(phone) {
        // var li = list.appendChild(document.createElement('li'));
        // li.innerHTML =  "<ul class='inner-list'><li>" + phone.age + "</li><li>" + phone.carrier + "</li><li>" + phone.id + "</li><li><img src='" + phone.imageUrl + "' alt='" + phone.name + "'/></li><li>" + phone.name + "</li><li>" + phone.snippet + "</li></ul>";
      //});
      for (var i = 0; i < phones.length; i++) {
        var li = list.appendChild(document.createElement('li'));
        var ul = li.appendChild(document.createElement('ul'));
        ul.className += "inner-list";
        var obj = phones[i];
        for (var prop in obj) {
          var liInner = ul.appendChild(document.createElement('li'));
          if ( prop.indexOf("imageUrl") !== -1 ) {
            liInner.innerHTML = "<img src='" + obj[prop] + "' alt='' />";
            // var img = liInner.appendChild(document.createElement('img'));
            // img.src = obj[prop];
            // img.alt = "";
          } else {
            liInner.innerHTML = obj[prop];
          }
        }
      }
        // li.innerHTML =  "<ul class='inner-list'><li>" + phone.age + "</li><li>" + phone.carrier + "</li><li>" + phone.id + "</li><li><img src='" + phone.imageUrl + "' alt='" + phone.name + "'/></li><li>" + phone.name + "</li><li>" + phone.snippet + "</li></ul>";
    }
  </script>
</body>
</html>